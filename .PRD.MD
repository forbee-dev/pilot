üìò Product Requirements Document (PRD)
Micro-Frontend Component Manager + WordPress Gutenberg Block
1. Product Overview

The Micro-Frontend Component Manager (MicroFE) is a web application that enables content and product teams to upload, manage, and deploy React-based UI components (e.g., generated by Lovable). These components are built into isolated micro-frontends with:

SSR output for SEO

Hydration bundle for interactivity

Versioning

API-based rendering

A companion WordPress Gutenberg block integrates these components into editorial workflows, allowing editors to:

Select a component from a dropdown

Configure its props using dynamic input forms

Preview the component inside the editor with SSR

Publish fully SEO-friendly content hydrated by React

2. Goals & Non-Goals
‚úîÔ∏è Goals

Allow teams to upload React components packaged as ZIP files.

Automatically bundle:

SSR render function

Client hydration bundle

Optional CSS

Provide API endpoints for:

Listing components

Getting versions/props schema

Server-side rendering HTML

Serving hydration assets

Create a Gutenberg block that:

Fetches components/props from MicroFE

Displays SSR preview inside Gutenberg

Outputs SSR + hydration bundle on frontend

Ensure SEO compatibility: all HTML rendered server-side.

Enable version control for components.

Provide predictable, long-lived URLs for assets.

‚ùå Non-Goals (Phase 1)

Component-level access control or permissions.

A/B testing (planned in future).

Style editor inside WordPress.

Component marketplace/paywall.

3. Users
Primary Users

Content Editors (WordPress)

Insert components in articles/pages

Adjust props

Preview output

Product/Design Team

Upload new UI components

Update component versions

Manage component catalog

Secondary Users

Frontend Engineers

Upload new React components

Validate hydration/SSR

Use dev mode previews

4. Product Requirements
4.1 Component Upload & Management (MicroFE Dashboard)
Requirements

Users can upload .zip generated by Lovable/V0.

System extracts source JS/TSX files.

Detect main component file automatically or prompt user if multiple candidates.

Validate component structure (must export a React component).

Detect TypeScript props interface (if present) and generate JSON schema.

Assign automatic version numbers (semantic: major.minor.patch or flat).

Store all component files and build artifacts.

List all components in dashboard with:

Name

Slug

Latest version

Status (active/deprecated)

Preview button

Allow deprecating a version without deleting it.

Maintain backwards compatibility for previously published WP content.

4.2 Component Bundling Pipeline (Automated)
For Each Upload: Build must produce:
SSR Bundle

Node-compatible entry point

Must expose default function render(props)

Build via Vite (SSR mode)

Client Hydration Bundle

Browser bundle with hydration script:

Imports React

Calls hydrateRoot()

CSS Bundle

Optional extraction from component or CSS modules

Props Schema

Extracted automatically from TS interface OR JSON provided by upload

Metadata

Component name

Version number

Props schema

Path to SSR/Client/CSS artifacts

4.3 MicroFE API Requirements
Endpoints
GET /api/components

Returns list of all components
‚Üí Name, slug, latest version, description

GET /api/components/{component}

Returns:

Component metadata

Available versions

Props schema

Latest version

GET /api/render/{component}/{version}?props=‚Ä¶

Renders component with SSR

Returns:

html string

props (validated)

GET /cdn/components/{component}/{version}/client.js

Hydration bundle

GET /cdn/components/{component}/{version}/style.css

Styles (if any)

4.4 WordPress Gutenberg Block Requirements
Editor-side (edit.js)
Functional Requirements

Fetch list of components from MicroFE API.

Let user select one from dropdown.

On select:

Fetch props schema

Auto-generate form fields in InspectorControls

Live preview:

Send props to SSR API

Insert returned HTML in block preview

Show loading and error states.

Attributes Saved by Block
{
  "component": "heroBanner",
  "version": "12",
  "props": {
    "title": "Example",
    "image": "url"
  }
}

Block should be dynamic

Meaning: frontend is rendered via PHP render callback.

4.5 WordPress Frontend Rendering
Requirements

PHP callback fetches SSR HTML using API.

Embed SSR HTML directly in page.

Enqueue hydration JS bundle.

Pass props to hydration script via dataset attributes.

Should work with:

Block themes

Classic themes

Caching plugins

CDN caching
(via pre-rendered SSR HTML)

4.6 SEO Requirements
Must:

Produce static HTML on page load for Google's crawler.

Contain no client-side rendered content before hydration.

Not depend on React being loaded before HTML appears.

Should:

Support OpenGraph, schema.org markup inside components if provided by SSR.

4.7 Performance Requirements
Must:

Hydration JS should be loaded only for components on the page.

Support HTTP/2 and caching headers for bundles.

SSR endpoint must respond < 200ms for typical components.

Should:

Support caching SSR render output (Redis or internal memory).

Support CDN caching for hydration bundles.

5. Architecture
5.1 System Overview

MicroFE App

Next.js (App Router) or Node+Vite

Handles UI + API + Bundling pipeline

Storage

Components stored under /components/{name}/{version}/

Bundles in CDN folder

WordPress Plugin

Gutenberg block

SSR fetcher

Hydration script enqueuer

6. User Flows
6.1 Uploading a New Component

User logs into MicroFE dashboard

Click ‚ÄúNew Component‚Äù

Upload ZIP

System extracts and detects main component

Build pipeline runs (SSR + client + CSS)

Component version created

Appears in list for editors in WordPress

6.2 Embedding a Component on a WP Page

Editor adds ‚ÄúReact Component‚Äù block

Block loads list from /api/components

Editor selects ‚ÄúCasinoRatingCard v3‚Äù

Props schema appears

Editor fills props

Block renders SSR preview

Editor publishes

Frontend uses PHP to fetch SSR + hydrate

7. Release Plan / Phases
Phase 1 ‚Äî MVP

Upload ZIP

Automated bundling

SSR + hydration endpoints

Basic dashboard

Gutenberg block selecting component + props

SSR preview inside editor

Fully working WP integration

Phase 2 ‚Äî Enhancements

Component preview sandbox

Component categories/tags

Version comparison

Rollback to previous version

Phase 3 ‚Äî Advanced Features

Component A/B testing

Dynamic data fetching inside components

Authentication + RBAC

Multi-site support (SaaS model)

Billing/Tiers

8. Constraints & Assumptions

WordPress environment must support external API calls.

MicroFE must be highly available (frontend depends on it).

React components must be pure SSR-capable (no browser-only global dependencies).

Files uploaded must follow the expected structure.